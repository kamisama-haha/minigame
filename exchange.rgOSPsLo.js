import{_ as x}from"./image.vue.z4uqTG5J.js";import{d as k,i as T,u as $,o as a,a as m,e,k as C,b as o,m as L,H,y as N,r as y,c as A,V as v,F as M,D,C as I,t as U,l as b,v as w,K as B,U as F,_ as G}from"./entry.Dv1IsjD4.js";const P={class:"bs-passive"},V={class:"bs-passive-inner"},X={class:"bs-passive-exchange"},R=["innerHTML"],z=["innerHTML"],K=k({__name:"ChangeExchange",setup(S){const{$event:h}=L(),l=T();$();function s(){h("bs:close")}return(_,g)=>{var u,d;const c=x;return a(),m("div",P,[e("div",V,[e("div",X,[C(c,{name:(u=o(l).currentExchange)==null?void 0:u.id},null,8,["name"])]),e("p",{innerHTML:_.$t("exchange.dialog_title",{exchange:((d=o(l).currentExchange)==null?void 0:d.name)??"unknown"})},null,8,R)]),e("button",{class:"bottom-sheet-button button button-primary button-large",onClick:s},[e("span",{innerHTML:_.$t("exchange.dialog_button")},null,8,z)])])}}}),O={class:"main"},j={class:"inner settings"},q=["innerHTML"],J=["disabled","onClick"],Q={class:"settings-item-image"},W={class:"settings-item-content"},Y={class:"settings-item-action"},ne=k({__name:"exchange",setup(S){const{$event:h}=L(),l=H(),s=T(),_=$(),g=N(),c=y(!1);async function u(n){var t;((t=s.currentExchange)==null?void 0:t.id)!==n.id&&(c.value=!0,await s.postUserExchangeId(n.id).then(i=>{setTimeout(()=>{h("bs:open",{component:w(K)})},300),setTimeout(()=>{B(l(F.GAME_INDEX))},50)}).catch(i=>{_.showErrorPush()}).finally(()=>{setTimeout(()=>{c.value=!1},1e3)}))}const d=A(()=>{var n,t;return((n=s.currentExchange)==null?void 0:n.id)===v.DEFAULT_EXCHANGE?g.exchanges:(t=g.exchanges)==null?void 0:t.filter(i=>i.id!==v.DEFAULT_EXCHANGE)});return(n,t)=>{const i=x,p=G;return a(),m("main",O,[e("div",j,[e("div",{class:"settings-title",innerHTML:n.$t("settings.select_exchange")},null,8,q),(a(!0),m(M,null,D(o(d),r=>{var E,f;return a(),m("button",{class:I(["settings-item",{"is-active":((E=o(s).currentExchange)==null?void 0:E.id)===r.id}]),disabled:o(c),onClick:Z=>u(r)},[e("div",Q,[C(i,{name:r.id},null,8,["name"])]),e("div",W,[e("p",null,U(r.name),1)]),e("div",Y,[((f=o(s).currentExchange)==null?void 0:f.id)===r.id?(a(),b(p,{key:0,class:"is-24",name:"check"})):(a(),b(p,{key:1,class:"is-24",name:"caret-right"}))])],10,J)}),256))])])}}});export{ne as default};
