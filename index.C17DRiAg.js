import{d as H,o as d,a as g,C as I,r as B,a3 as M,e as t,b as n,l as D,p as _,u as r,m as f,v as E,j as P,i as R,Q as V,c as C,av as X,k as l,a9 as y,t as L,w as Y,_ as j,R as q,U as b}from"./entry.Dv1IsjD4.js";import{_ as z}from"./Preloader.vue.EL_BqhER.js";const O=H({__name:"Toggle",props:{value:{type:Boolean,required:!0}},setup(v){return(o,c)=>(d(),g("div",{class:I(["toggle-switch",{checked:v.value}])},null,2))}}),Q={class:"modal-content"},W=["innerHTML"],J=["innerHTML"],K={class:"modal-buttons"},Z=["disabled"],x=["innerHTML"],tt=["innerHTML"],et=H({__name:"DeleteAccount",setup(v){const o=B(!1),{$event:c}=f(),p=M(),i=async()=>{o.value||(o.value=!0,await p.postDeleteMe().then(()=>{_().useHapticFeedback("heavy"),r().trackEvent("delete_account_success"),p.logout(!1),c("bs:close"),c("modal:close"),setTimeout(()=>{var s,m;(m=(s=window==null?void 0:window.Telegram)==null?void 0:s.WebApp)==null||m.close()},400)}).catch(s=>{r().showErrorPush(),r().trackEvent("delete_account_error")}).finally(()=>{o.value=!1}))},a=()=>{r().trackEvent("delete_account_cancel_step2"),c("modal:close"),c("bs:close")};return(s,m)=>{const T=z;return d(),g("div",Q,[t("div",{class:"modal-title",innerHTML:s.$t("settings.delete_account_step2_title")},null,8,W),t("div",{class:"modal-description",innerHTML:s.$t("settings.delete_account_step2_description")},null,8,J),t("div",K,[t("button",{class:"button is-danger",disabled:n(o),onClick:i},[n(o)?(d(),D(T,{key:0})):(d(),g("span",{key:1,innerHTML:s.$t("settings.delete_account")},null,8,x))],8,Z),t("button",{class:"button",innerHTML:s.$t("buttons.cancel"),onClick:a},null,8,tt)])])}}}),nt={class:"bs-content"},st=["innerHTML"],ot=["innerHTML"],ct={class:"bs-content-buttons"},it=["innerHTML"],at=["innerHTML"],lt=H({__name:"DeleteAccount",setup(v){const{$event:o}=f();M();const c=async()=>{r().trackEvent("delete_account_click_yes"),o("modal:open",{component:E(et)})},p=()=>{r().trackEvent("delete_account_cancel"),o("bs:close")};return(i,a)=>(d(),g("div",nt,[t("div",{class:"bs-content-title-medium has-top-gap",innerHTML:i.$t("settings.delete_account_title")},null,8,st),t("div",{class:"bs-content-description full-width",innerHTML:i.$t("settings.delete_account_description")},null,8,ot),t("div",ct,[t("button",{class:"button button-default button-danger",onClick:c},[t("span",{innerHTML:i.$t("settings.delete_account")},null,8,it)]),t("button",{class:"button button-default button-dark",innerHTML:i.$t("buttons.cancel"),onClick:p},null,8,at)])]))}}),rt={class:"main"},ut={class:"inner settings"},_t=["innerHTML"],dt={class:"settings-item-content"},pt=["innerHTML"],mt={class:"settings-item-action"},gt={class:"settings-item-content"},ht=["innerHTML"],vt={class:"settings-item-action"},kt={class:"settings-item-content"},Ht=["innerHTML"],Tt={class:"settings-item-action"},$t=["innerHTML"],Lt=["innerHTML"],bt={key:0,class:"settings-info"},Mt=["title"],ft=t("p",null,"Token: 聽",-1),yt=H({__name:"index",setup(v){const{$event:o}=f(),{locale:c,locales:p}=P(),i=R(),a=V(),s=M(),m=r(),T=_(),A=C(()=>{var e;return((e=p.value.find(u=>u.code===c.value))==null?void 0:e.name)??""}),w=()=>{a.updateSettings({haptic:!a.settings.haptic}),_().useHapticFeedback()},N=()=>{_().useHapticFeedback(),a.updateSettings({coins_animation:!a.settings.coins_animation})};C(()=>{var e;return(e=i.exchangeRefLinks[X.BINGX])==null?void 0:e.exchangeRefLink});const G=e=>{T.copyText(e??"Hamster 馃惞")},U=()=>{_().useHapticFeedback("heavy"),r().trackEvent("delete_account_click"),o("bs:open",{component:E(lt)})},F=()=>{_().useHapticFeedback("heavy"),r().trackEvent("click_privacy_policy")};return(e,u)=>{const k=j,$=q,S=O;return d(),g("main",rt,[t("div",ut,[t("div",{class:"settings-title",innerHTML:e.$t("settings.title")},null,8,_t),l($,{class:"settings-item",to:n(b).GAME_SETTINGS_LANGUAGE,onClick:u[0]||(u[0]=h=>("useUiStore"in e?e.useUiStore:n(_))().useHapticFeedback("soft"))},{default:y(()=>[t("div",dt,[t("p",{innerHTML:e.$t("settings.select_language")},null,8,pt),t("span",null,L(n(A)),1)]),t("div",mt,[l(k,{class:"is-24",name:"caret-right"})])]),_:1},8,["to"]),l($,{class:"settings-item",to:n(b).GAME_SETTINGS_EXCHANGE,onClick:u[1]||(u[1]=h=>("useUiStore"in e?e.useUiStore:n(_))().useHapticFeedback("soft"))},{default:y(()=>{var h;return[t("div",gt,[t("p",{innerHTML:e.$t("settings.select_exchange")},null,8,ht),t("span",null,L(((h=n(i).currentExchange)==null?void 0:h.name)??"unknown"),1)]),t("div",vt,[l(k,{class:"is-24",name:"caret-right"})])]}),_:1},8,["to"]),t("div",{class:"settings-item",onClick:U},[t("div",kt,[t("p",{innerHTML:e.$t("settings.delete_account")},null,8,Ht)]),t("div",Tt,[l(k,{class:"is-24",name:"caret-right"})])]),t("div",{class:"settings-toggle",onClick:w},[t("p",{innerHTML:e.$t("settings.haptic")},null,8,$t),l(S,{value:n(a).settings.haptic},null,8,["value"])]),t("div",{class:"settings-toggle",onClick:N},[t("p",{innerHTML:e.$t("settings.coins_animation")},null,8,Lt),l(S,{value:n(a).settings.coins_animation},null,8,["value"])]),n(m).isDevelopment()?(d(),g("div",bt,[t("div",{class:"connect-ton-wallet-info",onClick:u[2]||(u[2]=h=>G(n(s).token)),title:n(s).token},[ft,t("span",null,L(n(m).shrinkString(n(s).token,12)),1),l(k,{class:"is-copy-icon",name:"copy"})],8,Mt)])):Y("",!0),l($,{class:"settings-link",to:n(b).PRIVACY_POLICY,onClick:F,target:"_blank",innerHTML:e.$t("settings.privacy_policy")},null,8,["to","innerHTML"])])])}}});export{yt as default};
